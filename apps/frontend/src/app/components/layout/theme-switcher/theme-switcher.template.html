<button mat-icon-button [matMenuTriggerFor]="themeMenu">
  <mat-icon class="mat-18">format_color_fill</mat-icon>
</button>

<mat-menu #themeMenu="matMenu">
  <ng-container *ngIf="{selectedTheme: selectedTheme$ | async} as sub">
    <button
      mat-menu-item
      *ngFor="let theme of THEMES"
      [ngClass]="{selected: theme.id === sub.selectedTheme}"
      (click)="onThemeSelect(theme.id)"
    >
      <span>{{theme.label | translate}}</span>
    </button>
  </ng-container>
</mat-menu>
