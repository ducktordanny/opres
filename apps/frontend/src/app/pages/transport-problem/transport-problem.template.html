<form>
  <mat-form-field appearance="outline">
    <mat-label>Shops</mat-label>
    <mat-select
      matNativeControl
      required
      value="4"
      (selectionChange)="onShopsCountChange($event)"
    >
      <mat-option value="3">3</mat-option>
      <mat-option value="4">4</mat-option>
      <mat-option value="5">5</mat-option>
      <mat-option value="6">6</mat-option>
      <mat-option value="6">7</mat-option>
      <mat-option value="6">8</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Storages</mat-label>
    <mat-select
      matNativeControl
      required
      value="4"
      (selectionChange)="onStoragesCountChange($event)"
    >
      <mat-option value="3">3</mat-option>
      <mat-option value="4">4</mat-option>
      <mat-option value="5">5</mat-option>
      <mat-option value="6">6</mat-option>
      <mat-option value="6">7</mat-option>
      <mat-option value="6">8</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Method</mat-label>
    <mat-select
      matNativeControl
      required
      [value]="selectedMethod$ | async"
      (selectionChange)="onMethodSelect($event)"
    >
      <mat-option value="north-west">North-West</mat-option>
      <mat-option value="table-min" disabled>Table minimum</mat-option>
      <mat-option value="vogel-korda" disabled>Vogel-Korda</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-hint>
    The table in the top left corner represents the costs, next to it on the
    right it's the stocks of storages and under them can be found the demands of
    the shops.
  </mat-hint>
  <mat-hint class="info">
    The table is currently filled with an example task the first phase is
    solvable with North-West method. The other calculations will be available
    soon. Stay tuned!
  </mat-hint>
  <transport-table (tableClear)="reset()"></transport-table>
  <mat-error *ngIf="error | async as err">{{err}}</mat-error>
  <button
    mat-flat-button
    color="primary"
    type="submit"
    (click)="onCalculate($event)"
  >
    Calculate
  </button>
</form>
<div class="result-wrapper">
  <p *ngIf="resultEpsilon$ | async as epsilon">Epsilon value: {{epsilon}}</p>
  <result-table
    *ngFor="let resultSource of (results | async); let i = index"
    [title]="i + 1 + '. step'"
    [result]="resultSource"
  ></result-table>
</div>
